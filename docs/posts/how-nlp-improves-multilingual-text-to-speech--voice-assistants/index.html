<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-99V7B3NL74"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-99V7B3NL74');
</script>
<title>How NLP Improves Multilingual Text-to-Speech &amp; Voice Assistants | teraskula.com</title>
<meta name="keywords" content="NLP, TTS, voice assistants, multilingual, technology advancements">
<meta name="description" content="In the rapidly evolving world of technology, Natural Language Processing (NLP) plays a pivotal role in reshaping how machines understand and generate human language. Among its many applications, NLP significantly enhances multilingual text-to-speech (TTS) technology and voice assistants, making them more robust and user-friendly. This blog post will explore the transformative impact of NLP on TTS systems, focusing on its ability to improve language understanding, pronunciation accuracy, and overall user experience—especially for non-native speakers.">
<meta name="author" content="ai-machine">
<link rel="canonical" href="https://teraskula.com/posts/how-nlp-improves-multilingual-text-to-speech--voice-assistants/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.6a98292fb8fa8cf0f3ba4042d4b75515c04267550f3ad49ff6271b5af9562443.css" integrity="sha256-apgpL7j6jPDzukBC1LdVFcBCZ1UPOtSf9icbWvlWJEM=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://teraskula.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://teraskula.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://teraskula.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://teraskula.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://teraskula.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://teraskula.com/posts/how-nlp-improves-multilingual-text-to-speech--voice-assistants/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="How NLP Improves Multilingual Text-to-Speech &amp; Voice Assistants" />
<meta property="og:description" content="In the rapidly evolving world of technology, Natural Language Processing (NLP) plays a pivotal role in reshaping how machines understand and generate human language. Among its many applications, NLP significantly enhances multilingual text-to-speech (TTS) technology and voice assistants, making them more robust and user-friendly. This blog post will explore the transformative impact of NLP on TTS systems, focusing on its ability to improve language understanding, pronunciation accuracy, and overall user experience—especially for non-native speakers." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://teraskula.com/posts/how-nlp-improves-multilingual-text-to-speech--voice-assistants/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2025-01-20T13:24:30+07:00" />
<meta property="article:modified_time" content="2025-01-20T13:24:30+07:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="How NLP Improves Multilingual Text-to-Speech &amp; Voice Assistants"/>
<meta name="twitter:description" content="In the rapidly evolving world of technology, Natural Language Processing (NLP) plays a pivotal role in reshaping how machines understand and generate human language. Among its many applications, NLP significantly enhances multilingual text-to-speech (TTS) technology and voice assistants, making them more robust and user-friendly. This blog post will explore the transformative impact of NLP on TTS systems, focusing on its ability to improve language understanding, pronunciation accuracy, and overall user experience—especially for non-native speakers."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://teraskula.com/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "How NLP Improves Multilingual Text-to-Speech \u0026 Voice Assistants",
      "item": "https://teraskula.com/posts/how-nlp-improves-multilingual-text-to-speech--voice-assistants/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "How NLP Improves Multilingual Text-to-Speech \u0026 Voice Assistants",
  "name": "How NLP Improves Multilingual Text-to-Speech \u0026 Voice Assistants",
  "description": "In the rapidly evolving world of technology, Natural Language Processing (NLP) plays a pivotal role in reshaping how machines understand and generate human language. Among its many applications, NLP significantly enhances multilingual text-to-speech (TTS) technology and voice assistants, making them more robust and user-friendly. This blog post will explore the transformative impact of NLP on TTS systems, focusing on its ability to improve language understanding, pronunciation accuracy, and overall user experience—especially for non-native speakers.\n",
  "keywords": [
    "NLP", "TTS", "voice assistants", "multilingual", "technology advancements"
  ],
  "articleBody": "In the rapidly evolving world of technology, Natural Language Processing (NLP) plays a pivotal role in reshaping how machines understand and generate human language. Among its many applications, NLP significantly enhances multilingual text-to-speech (TTS) technology and voice assistants, making them more robust and user-friendly. This blog post will explore the transformative impact of NLP on TTS systems, focusing on its ability to improve language understanding, pronunciation accuracy, and overall user experience—especially for non-native speakers.\nOverview of NLP and TTS Natural Language Processing (NLP) is a field of artificial intelligence that focuses on the interaction between computers and humans through natural language. By utilizing various computational techniques, NLP enables machines to understand, interpret, and generate human language in a meaningful way.\nText-to-speech (TTS) technology converts written text into spoken words, allowing devices to ‘speak’ various written texts in a human-like voice. When combined with NLP, TTS systems can not only generate speech but also comprehend linguistic nuances, dialects, and emotions, leading to a richer user experience.\nMultilingual Capabilities One of the most significant challenges in TTS technology is supporting multiple languages, dialects, and cultural contexts. As globalization continues to rise, the demand for effective multilingual TTS systems becomes increasingly pertinent.\nWithout NLP, TTS systems might struggle with correct pronunciation, tonal variations, and even cultural idioms that differ from one language to another. NLP addresses these challenges by:\nLanguage Detection: Automatically identifying the language of the input text, allowing for appropriate processing and output in that respective language. Pronunciation Accuracy: Utilizing language models to improve the accuracy of phonetic representations, ensuring words are pronounced correctly based on local dialects or accents. Contextual Understanding: Understanding the context in which a phrase is used, allowing for more natural intonations and expressions in speech synthesis. Case Studies Several organizations have successfully implemented NLP in voice assistants to enhance multilingual capabilities:\nGoogle Assistant: Integrates advanced NLP to recognize and respond in multiple languages simultaneously. Users can switch languages seamlessly during conversations, illustrating how NLP enables fluid interaction in multilingual contexts.\nAmazon Alexa: Offers multilingual support through its “language mixing” feature, allowing bilingual households to interact using multiple languages within the same request. This is made possible through NLP’s ability to understand linguistic transitions.\nMicrosoft Azure Cognitive Services: Uses NLP to power its speech service, which can recognize inferences and different dialects, thereby providing nuanced responses tailored to the user’s language.\nUser Experience Enhancement The enhancements made by NLP directly contribute to a more engaging user experience in TTS and voice assistants. Some notable improvements include:\nImproved Pronunciation: Non-native speakers benefit from accurate pronunciation, leading to less frustration and better comprehension. Contextual Responses: NLP allows voice assistants to understand the context of queries, leading to more relevant and useful answers. Cultural Sensitivity: By understanding regional dialects and phrases, voice assistants equipped with NLP can interact in a way that feels more familiar and personal to users. Future Trends The future of multilingual TTS and voice assistants looks promising with the continuous advancement of NLP. Some emerging trends include:\nPersonalized Voice Profiles: Users may soon be able to create personalized voice profiles that adapt to their language usage and preferences. Emotion Recognition: More sophisticated NLP models might allow voice assistants to recognize the emotional tone of a user’s voice, leading to empathetic responses. Augmented Learning: Language learning applications could utilize NLP-powered TTS to provide pronunciation feedback, helping users learn new languages more effectively. Example Code Here’s a simple example of how to implement a multilingual TTS feature using the Google Cloud Text-to-Speech API and the google-cloud-texttospeech package in Python:\nfrom google.cloud import texttospeech def synthesize_speech(text, language_code='en-US'): client = texttospeech.TextToSpeechClient() input_text = texttospeech.SynthesisInput(text=text) voice = texttospeech.VoiceSelectionParams( language_code=language_code, ssml_gender=texttospeech.SsmlVoiceGender.NEUTRAL ) audio_config = texttospeech.AudioConfig( audio_encoding=texttospeech.AudioEncoding.MP3 ) response = client.synthesize_speech( input=input_text, voice=voice, audio_config=audio_config ) with open('output.mp3', 'wb') as out: out.write(response.audio_content) print('Audio content written to file \"output.mp3\"') # Example usage synthesize_speech(\"Bonjour tout le monde!\", language_code='fr-FR') In this example, the function synthesize_speech takes a text input and a language code, synthesizing speech into an MP3 file utilizing the Google Cloud Text-to-Speech API, showcasing how easy it can be to integrate multilingual TTS into applications.\nConclusion NLP is crucial for bridging gaps in multilingual TTS systems, enhancing both accuracy and fluency. By effectively implementing NLP, voice assistants can provide a significantly improved user experience, making technology more accessible and intuitive for diverse populations. As advancements in NLP continue to evolve, we can anticipate even more personalized and context-aware voice interactions in the future, paving the way for a new era in human-computer communication.\nThank you for reading! If you have any questions or insights on the impact of NLP on multilingual TTS and voice assistants, feel free to share in the comments.\n",
  "wordCount" : "777",
  "inLanguage": "en",
  "datePublished": "2025-01-20T13:24:30+07:00",
  "dateModified": "2025-01-20T13:24:30+07:00",
  "author":{
    "@type": "Person",
    "name": "ai-machine"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://teraskula.com/posts/how-nlp-improves-multilingual-text-to-speech--voice-assistants/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "teraskula.com",
    "logo": {
      "@type": "ImageObject",
      "url": "https://teraskula.com/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://teraskula.com/" accesskey="h" title="teraskula.com (Alt + H)">teraskula.com</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://teraskula.com/posts/about-teraskula/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://teraskula.com/categories/" title="categories">
                    <span>categories</span>
                </a>
            </li>
            <li>
                <a href="https://teraskula.com/tags/" title="tags">
                    <span>tags</span>
                </a>
            </li>
        </ul>
    </nav>


</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      How NLP Improves Multilingual Text-to-Speech &amp; Voice Assistants
    </h1>
    <div class="post-meta">20 January 2025 | ai-machine

</div>
  </header> 
  <div class="post-content"><p>In the rapidly evolving world of technology, Natural Language Processing (NLP) plays a pivotal role in reshaping how machines understand and generate human language. Among its many applications, NLP significantly enhances multilingual text-to-speech (TTS) technology and voice assistants, making them more robust and user-friendly. This blog post will explore the transformative impact of NLP on TTS systems, focusing on its ability to improve language understanding, pronunciation accuracy, and overall user experience—especially for non-native speakers.</p>
<h2 id="overview-of-nlp-and-tts">Overview of NLP and TTS<a hidden class="anchor" aria-hidden="true" href="#overview-of-nlp-and-tts">#</a></h2>
<p>Natural Language Processing (NLP) is a field of artificial intelligence that focuses on the interaction between computers and humans through natural language. By utilizing various computational techniques, NLP enables machines to understand, interpret, and generate human language in a meaningful way.</p>
<p>Text-to-speech (TTS) technology converts written text into spoken words, allowing devices to &lsquo;speak&rsquo; various written texts in a human-like voice. When combined with NLP, TTS systems can not only generate speech but also comprehend linguistic nuances, dialects, and emotions, leading to a richer user experience.</p>
<h2 id="multilingual-capabilities">Multilingual Capabilities<a hidden class="anchor" aria-hidden="true" href="#multilingual-capabilities">#</a></h2>
<p>One of the most significant challenges in TTS technology is supporting multiple languages, dialects, and cultural contexts. As globalization continues to rise, the demand for effective multilingual TTS systems becomes increasingly pertinent.</p>
<p>Without NLP, TTS systems might struggle with correct pronunciation, tonal variations, and even cultural idioms that differ from one language to another. NLP addresses these challenges by:</p>
<ul>
<li><strong>Language Detection</strong>: Automatically identifying the language of the input text, allowing for appropriate processing and output in that respective language.</li>
<li><strong>Pronunciation Accuracy</strong>: Utilizing language models to improve the accuracy of phonetic representations, ensuring words are pronounced correctly based on local dialects or accents.</li>
<li><strong>Contextual Understanding</strong>: Understanding the context in which a phrase is used, allowing for more natural intonations and expressions in speech synthesis.</li>
</ul>
<h2 id="case-studies">Case Studies<a hidden class="anchor" aria-hidden="true" href="#case-studies">#</a></h2>
<p>Several organizations have successfully implemented NLP in voice assistants to enhance multilingual capabilities:</p>
<ol>
<li>
<p><strong>Google Assistant</strong>: Integrates advanced NLP to recognize and respond in multiple languages simultaneously. Users can switch languages seamlessly during conversations, illustrating how NLP enables fluid interaction in multilingual contexts.</p>
</li>
<li>
<p><strong>Amazon Alexa</strong>: Offers multilingual support through its &ldquo;language mixing&rdquo; feature, allowing bilingual households to interact using multiple languages within the same request. This is made possible through NLP&rsquo;s ability to understand linguistic transitions.</p>
</li>
<li>
<p><strong>Microsoft Azure Cognitive Services</strong>: Uses NLP to power its speech service, which can recognize inferences and different dialects, thereby providing nuanced responses tailored to the user’s language.</p>
</li>
</ol>
<h2 id="user-experience-enhancement">User Experience Enhancement<a hidden class="anchor" aria-hidden="true" href="#user-experience-enhancement">#</a></h2>
<p>The enhancements made by NLP directly contribute to a more engaging user experience in TTS and voice assistants. Some notable improvements include:</p>
<ul>
<li><strong>Improved Pronunciation</strong>: Non-native speakers benefit from accurate pronunciation, leading to less frustration and better comprehension.</li>
<li><strong>Contextual Responses</strong>: NLP allows voice assistants to understand the context of queries, leading to more relevant and useful answers.</li>
<li><strong>Cultural Sensitivity</strong>: By understanding regional dialects and phrases, voice assistants equipped with NLP can interact in a way that feels more familiar and personal to users.</li>
</ul>
<h2 id="future-trends">Future Trends<a hidden class="anchor" aria-hidden="true" href="#future-trends">#</a></h2>
<p>The future of multilingual TTS and voice assistants looks promising with the continuous advancement of NLP. Some emerging trends include:</p>
<ul>
<li><strong>Personalized Voice Profiles</strong>: Users may soon be able to create personalized voice profiles that adapt to their language usage and preferences.</li>
<li><strong>Emotion Recognition</strong>: More sophisticated NLP models might allow voice assistants to recognize the emotional tone of a user’s voice, leading to empathetic responses.</li>
<li><strong>Augmented Learning</strong>: Language learning applications could utilize NLP-powered TTS to provide pronunciation feedback, helping users learn new languages more effectively.</li>
</ul>
<h2 id="example-code">Example Code<a hidden class="anchor" aria-hidden="true" href="#example-code">#</a></h2>
<p>Here’s a simple example of how to implement a multilingual TTS feature using the Google Cloud Text-to-Speech API and the <code>google-cloud-texttospeech</code> package in Python:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> google.cloud <span style="color:#f92672">import</span> texttospeech
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">synthesize_speech</span>(text, language_code<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;en-US&#39;</span>):
</span></span><span style="display:flex;"><span>    client <span style="color:#f92672">=</span> texttospeech<span style="color:#f92672">.</span>TextToSpeechClient()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    input_text <span style="color:#f92672">=</span> texttospeech<span style="color:#f92672">.</span>SynthesisInput(text<span style="color:#f92672">=</span>text)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    voice <span style="color:#f92672">=</span> texttospeech<span style="color:#f92672">.</span>VoiceSelectionParams(
</span></span><span style="display:flex;"><span>        language_code<span style="color:#f92672">=</span>language_code,
</span></span><span style="display:flex;"><span>        ssml_gender<span style="color:#f92672">=</span>texttospeech<span style="color:#f92672">.</span>SsmlVoiceGender<span style="color:#f92672">.</span>NEUTRAL
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    audio_config <span style="color:#f92672">=</span> texttospeech<span style="color:#f92672">.</span>AudioConfig(
</span></span><span style="display:flex;"><span>        audio_encoding<span style="color:#f92672">=</span>texttospeech<span style="color:#f92672">.</span>AudioEncoding<span style="color:#f92672">.</span>MP3
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    response <span style="color:#f92672">=</span> client<span style="color:#f92672">.</span>synthesize_speech(
</span></span><span style="display:flex;"><span>        input<span style="color:#f92672">=</span>input_text, voice<span style="color:#f92672">=</span>voice, audio_config<span style="color:#f92672">=</span>audio_config
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#39;output.mp3&#39;</span>, <span style="color:#e6db74">&#39;wb&#39;</span>) <span style="color:#66d9ef">as</span> out:
</span></span><span style="display:flex;"><span>        out<span style="color:#f92672">.</span>write(response<span style="color:#f92672">.</span>audio_content)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#39;Audio content written to file &#34;output.mp3&#34;&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Example usage</span>
</span></span><span style="display:flex;"><span>synthesize_speech(<span style="color:#e6db74">&#34;Bonjour tout le monde!&#34;</span>, language_code<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;fr-FR&#39;</span>)
</span></span></code></pre></div><p>In this example, the function <code>synthesize_speech</code> takes a text input and a language code, synthesizing speech into an MP3 file utilizing the Google Cloud Text-to-Speech API, showcasing how easy it can be to integrate multilingual TTS into applications.</p>
<h2 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">#</a></h2>
<p>NLP is crucial for bridging gaps in multilingual TTS systems, enhancing both accuracy and fluency. By effectively implementing NLP, voice assistants can provide a significantly improved user experience, making technology more accessible and intuitive for diverse populations. As advancements in NLP continue to evolve, we can anticipate even more personalized and context-aware voice interactions in the future, paving the way for a new era in human-computer communication.</p>
<p>Thank you for reading! If you have any questions or insights on the impact of NLP on multilingual TTS and voice assistants, feel free to share in the comments.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://teraskula.com/tags/nlp/">NLP</a></li>
      <li><a href="https://teraskula.com/tags/tts/">TTS</a></li>
      <li><a href="https://teraskula.com/tags/voice-assistants/">Voice Assistants</a></li>
      <li><a href="https://teraskula.com/tags/multilingual/">Multilingual</a></li>
      <li><a href="https://teraskula.com/tags/technology-advancements/">Technology Advancements</a></li>
    </ul>
  </footer><div id="disqus_thread"></div>
<script>
    

    

    (function() { 
    var d = document, s = d.createElement('script');
    s.src = 'https://prima101112.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2025 <a href="https://teraskula.com/">teraskula.com</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
